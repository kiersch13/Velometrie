<div class="flex justify-between items-center mb-6">
  <div>
    <h2 class="page-title">Meine Räder</h2>
    <p class="text-sm text-gray-400 mt-0.5">Verwalte deine Fahrräder und Verschleißteile</p>
  </div>
  <button class="btn-primary" (click)="addBike()">
    <lucide-icon name="plus" [size]="16" aria-hidden="true"></lucide-icon>
    Rad hinzufügen
  </button>
</div>

<!-- Loading -->
<div *ngIf="loading" class="flex flex-col items-center justify-center mt-20 text-gray-400 gap-3">
  <lucide-icon name="loader-2" [size]="36" class="animate-spin" aria-hidden="true"></lucide-icon>
  <span class="text-sm">Lädt...</span>
</div>

<!-- Error -->
<div *ngIf="error" class="flex items-center gap-2 mt-6 p-4 bg-error/10 border border-error/20 rounded-xl text-error text-sm">
  <lucide-icon name="alert-circle" [size]="16" aria-hidden="true"></lucide-icon>
  {{ error }}
</div>

<!-- Empty state -->
<div *ngIf="!loading && bikes.length === 0 && !error" class="flex flex-col items-center justify-center mt-24 text-gray-400 gap-4">
  <lucide-icon name="inbox" [size]="48" class="text-gray-300" aria-hidden="true"></lucide-icon>
  <div class="text-center">
    <p class="font-semibold text-gray-500">Noch keine Räder</p>
    <p class="text-sm mt-1">Füge dein erstes Rad hinzu, um loszulegen.</p>
  </div>
  <button class="btn-primary" (click)="addBike()">
    <lucide-icon name="plus" [size]="16" aria-hidden="true"></lucide-icon>
    Erstes Rad hinzufügen
  </button>
</div>

<!-- Bike grid -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
  <div
    class="card p-5 cursor-pointer transition-all duration-150 border-l-4 hover:-translate-y-0.5 hover:shadow-card-hover relative overflow-hidden"
    [ngClass]="getCategoryBorderClass(bike.kategorie)"
    *ngFor="let bike of bikes"
    (click)="openDetail(bike.id)">
    <div class="absolute top-4 right-4" [ngClass]="getCategoryIconClass(bike.kategorie)">
      <lucide-icon [name]="getCategoryIcon(bike.kategorie)" [size]="40" aria-hidden="true"></lucide-icon>
    </div>
    <span [ngClass]="getCategoryBadgeClass(bike.kategorie)" class="mb-2">{{ bike.kategorie }}</span>
    <h3 class="text-base font-semibold text-primary dark:text-text-dark mt-1 mb-4 pr-10">{{ bike.name }}</h3>
    <div class="flex justify-between items-center border-t border-gray-100 dark:border-gray-700 pt-3">
      <div class="flex items-center gap-1 text-gray-400">
        <lucide-icon name="gauge" [size]="13" aria-hidden="true"></lucide-icon>
        <span class="text-xs">Kilometerstand</span>
      </div>
      <span class="text-sm font-bold text-primary dark:text-text-dark">{{ bike.kilometerstand | number:'1.0-0' }} km</span>
    </div>
  </div>
</div>
